<!doctype html>
<html class="h-100" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rationale&display=swap" rel="stylesheet"> 

    <title>MineSweeter</title>
  </head>
  
  <style>
    .tile{
        height:25px; 
        width:25px;
        margin: 2px;
        padding: 0;
        border: 0;
    }

    .number-text{
      font-family: 'Rationale', sans-serif;
      font-size: large;
    }

    body {
      font-family: Verdana, Geneva, Tahoma, sans-serif;
    }
  </style>

  <body class="d-flex h-100 text-center text-white bg-dark">
    
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
      
      <header class="mb-auto">
        <a id='mineHeader' href="/" align='center' class=" mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
          <span class="display-4 align-middle" style="font-family: 'Rationale', Verdana, sans-serif">MineSweeter</span>
        </a>
      </header>

      <main>
        <p>Clear this minefield to help clear <u>real</u> minefields! <a data-bs-toggle="modal" href="#aboutModal">How so?</a></p>
        <a data-bs-toggle="modal" href="#howToPlayModal">How to play</a>
        <table id="minefield" align="center" class="number-text"></table>
        
        <p id='mineCounter' class="m-3"></p>
        
        <a id='gear' data-bs-toggle="modal" href="#settingsModal"></a>
      </main>
      
      <footer class="mt-auto">
        <a id='gear' data-bs-toggle="modal" href="#settingsModal"></a>
        <a class='fs-7' data-bs-toggle="modal" href="#codeModal">How the code works</a>
      </footer>

      
      <div id="settingsModal" class="modal fade" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content bg-dark">
            <div class="modal-header">
              <h5 class="modal-title" id="settingsModalLabel">Modal title</h5>
              <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Work in progress settings page
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

      <div id="aboutModal" class="modal fade" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content bg-dark">
            <div class="modal-header">
              <h5 class="modal-title" id="aboutModalLabel">About us</h5>
              <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>
                This is a website where you can play minesweeper whilst supporting a non-profit organisation which clears out minefields and explosives around the world: 
                The Halo Trust. This website's extra ad revenue is donated directly to them, so it's important to disable your adblocker and give your support!
                If you want to help more concretely, you can go make a donation on <a href="https://www.halotrust.org/">halotrust.org</a>.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div id="howToPlayModal" class="modal fade" tabindex="-1" aria-labelledby="howToPlayModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content bg-dark">
            <div class="modal-header">
              <h5 class="modal-title" id="howToPlayModalLabel">How to play</h5>
              <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>
                In minesweeper, your goal is to flag all the hidden mines and explore the rest of the field.
                When you explore a tile or area by {left clicking} it, it reveals numbers indicating how many mines are in the adjacent tiles.
                With those you can identify where are the mines and flag them by {right clicking}.
                If you {left click} a number surrounded by the corresponding number of flags, it explores all the other surrounding tiles.
                You can read up on strategies <a href="http://computronium.org/minesweeper/index.html">here</a>.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div id="codeModal" class="modal fade" tabindex="-1" aria-labelledby="codeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen"><!-- use .modal-fullscreen here if needed -->
          <div class="modal-content bg-dark">
            <div class="modal-header">
              <h5 class="modal-title" id="codeModalLabel">The code</h5>
              <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Work in progress code page
            </div>
          </div>
        </div>
      </div>
      
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
      const gridHeight = 10;
      const gridWidth = 10;
      const fillRatio = 0.2; // if this is too high the guaranteed empty start can take while
    </script>
    <script src="myScript.js"></script>
	  <script>
      generateMinefieldTable('minefield');
      generateMinefieldArray();
	    generateGear('gear', '#FFFFFF');
	    generateMineHeader('mineHeader','#FFFFFF');
      generateMineCounter('mineCounter', '#FFFFFF');
    </script>
  </body>
</html>
